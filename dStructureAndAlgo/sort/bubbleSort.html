<!DOCTYPE html>
<html lang="ko-KR">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>자료구조와 알고리즘</title>
    </head>
    <body>
        <script>
            //버블 정렬의 시간 복잡도는 O(n²)
            let a = [1]; // 비교 : 0
            let b = [2, 3]; // 비교 : 1
            let c = [3, 2, 1]; // [2,3,1] ==> [2,1,3] 비교 : 2
            let d = [4, 3, 2, 1]; // [3,4,2,1] ==> [3,2,4,1] ==> [3,2,1,4] 비교 : 3
            // 정렬이 처리되는 과정이 마치 거품이 올라오는 모습과 같다고 하여 버블 정렬이라고 합니다.

            let myArr = [10, 9, 8, 6, 4, 7, 3, 2];
            let myArr2 = [10, 9, 4, 7, 3];

            function bubbleSort(arr) {
                for (let index = 0; index < arr.length; index++) {
                    //원소 위치 변경
                    if (arr[index] > arr[index + 1]) {
                        [arr[index], arr[index + 1]] = [arr[index + 1], arr[index]];
                    }
                }
            }

            // let result = bubbleSort(myArr);

            function bubbleSortAdvanced(arr) {
                for (let index = 0; index < arr.length - 1; index++) {
                    for (let index2 = 0; index2 < arr.length - 1; index2++) {
                        // 원소의 위치를 변경해줍니다.
                        if (arr[index2] > arr[index2 + 1]) {
                            [arr[index2], arr[index2 + 1]] = [arr[index2 + 1], arr[index2]];
                        }
                        // console.log(arr);
                    }
                }
                return arr;
            }

            // let result2 = bubbleSortAdvanced(myArr);
            //이게 전부다 오름차순으로 소팅하는것 - 필요없는 포문도 반복

            //정렬이 아예 필요없더라도 버블정렬이라면 9바퀴는 돌아야함 (10개의 원소라면!!) 양옆의 원소를 비교하므로
            function bubbleSortAdvanced3(arr) {
                let counter = 0;
                for (let index = 0; index < arr.length - 1; index++) {
                    // 정렬이 필요한 배열인지 상태를 저장합니다.
                    let isSorted = true;
                    for (let index2 = 0; index2 < arr.length - 1 - index; index2++) {
                        // 원소의 위치를 변경해줍니다.
                        if (arr[index2] > arr[index2 + 1]) {
                            [arr[index2], arr[index2 + 1]] = [arr[index2 + 1], arr[index2]];
                            isSorted = false;
                        }
                        console.log(arr);
                        counter++;
                    }

                    if (isSorted) break;
                }
                console.log("counter :", counter);
                return arr;
            }

            let result3 = bubbleSortAdvanced3(myArr);
            console.log(result3)
        </script>
    </body>
</html>
